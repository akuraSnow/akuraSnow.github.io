{"remainingRequest":"F:\\slate\\easteduCompoents\\node_modules\\thread-loader\\dist\\cjs.js??ref--11-1!F:\\slate\\easteduCompoents\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js??ref--11-2!F:\\slate\\easteduCompoents\\node_modules\\source-map-loader\\index.js!F:\\slate\\easteduCompoents\\src\\QuestionEditor\\editor\\choiceAnswer.tsx","dependencies":[{"path":"F:\\slate\\easteduCompoents\\src\\QuestionEditor\\editor\\choiceAnswer.tsx","mtime":1611302719605},{"path":"F:\\slate\\easteduCompoents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611297672593},{"path":"F:\\slate\\easteduCompoents\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1611297676370},{"path":"F:\\slate\\easteduCompoents\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js","mtime":1611297672218},{"path":"F:\\slate\\easteduCompoents\\node_modules\\source-map-loader\\index.js","mtime":1599723087186}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkY6XFxzbGF0ZVxcZWFzdGVkdUNvbXBvZW50c1xcbm9kZV9tb2R1bGVzXFxiYWJlbC1wcmVzZXQtcmVhY3QtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKdmFyIF9qc3hGaWxlTmFtZSA9ICJGOlxcc2xhdGVcXGVhc3RlZHVDb21wb2VudHNcXHNyY1xcUXVlc3Rpb25FZGl0b3JcXGVkaXRvclxcY2hvaWNlQW5zd2VyLnRzeCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZSA6IHVuZGVmaW5lZDsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWxbImRlZmF1bHQiXS5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCAnLi9yaWNodGV4dC5sZXNzJzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hvaWNlQW5zd2VyKHByb3BzKSB7CiAgdmFyIF90aGlzID0gdGhpczsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHByb3BzLm9wdGlvbiksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBvcHRpb24gPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRvcHRpb24gPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsKICAgIHZhciBhbnN3ZXJzID0gW107CiAgICBwcm9wcy5hbnN3ZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBhbnN3ZXJJdGVtOwoKICAgICAgaWYgKGl0ZW0uY2hpbGRyZW5bMF0gJiYgaXRlbS5jaGlsZHJlblswXS50ZXh0KSB7CiAgICAgICAgYW5zd2VySXRlbSA9IGl0ZW0uY2hpbGRyZW5bMF0udGV4dDsKICAgICAgfQoKICAgICAgYW5zd2Vycy5wdXNoKGFuc3dlckl0ZW0pOwogICAgfSk7CiAgICByZXR1cm4gYW5zd2VyczsKICB9KSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBhbnN3ZXIgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRBbnN3ZXIgPSBfdXNlU3RhdGU0WzFdOwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgdmFyIGFuc3dlcnMgPSBbXTsKICAgIHByb3BzLmFuc3dlci5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdmFyIGFuc3dlckl0ZW07CgogICAgICBpZiAoaXRlbS5jaGlsZHJlblswXSAmJiBpdGVtLmNoaWxkcmVuWzBdLnRleHQpIHsKICAgICAgICBhbnN3ZXJJdGVtID0gaXRlbS5jaGlsZHJlblswXS50ZXh0OwogICAgICB9CgogICAgICBhbnN3ZXJzLnB1c2goYW5zd2VySXRlbSk7CiAgICB9KTsKICAgIHNldEFuc3dlcihhbnN3ZXJzKTsKICB9LCBbcHJvcHMuYW5zd2VyXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIHNldG9wdGlvbihwcm9wcy5vcHRpb24pOwogIH0sIFtwcm9wcy5vcHRpb25dKTsKCiAgZnVuY3Rpb24gY2hvb3NlQW5zd2VyKGl0ZW0pIHsKICAgIHZhciBuZXdBbnN3ZXIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFuc3dlcikpOwoKICAgIGlmIChwcm9wcy5xdWVzdGlvblR5cGUgPT09ICdTSU5HTEVfQ0hPSUNFJyB8fCBwcm9wcy5xdWVzdGlvblR5cGUgPT09ICdKVURHRU1FTlQnKSB7CiAgICAgIG5ld0Fuc3dlciA9IFtdOwogICAgfQoKICAgIHZhciBudW0gPSBhbnN3ZXIuZmluZEluZGV4KGZ1bmN0aW9uIChhbnN3ZXJJdGVtKSB7CiAgICAgIHJldHVybiBhbnN3ZXJJdGVtID09PSBpdGVtOwogICAgfSk7CgogICAgaWYgKG51bSA+IC0xKSB7CiAgICAgIG5ld0Fuc3dlci5zcGxpY2UobnVtLCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIG5ld0Fuc3dlci5wdXNoKGl0ZW0pOwogICAgfSAvLyDoh6rliqjmjpLluo8KCgogICAgbmV3QW5zd2VyLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgcmV0dXJuIGEgPiBiID8gMSA6IC0xOwogICAgfSk7CiAgICB2YXIgY29udGVudEFuc3dlciA9IG5ld0Fuc3dlci5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgIHRleHQ6IGl0ZW0KICAgICAgICB9XSwKICAgICAgICB0eXBlOiAnTGVmdCcKICAgICAgfTsKICAgIH0pOwogICAgcHJvcHMuc2V0QW5zd2VyKGNvbnRlbnRBbnN3ZXIpOwogIH0KCiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICdhbnN3ZXJPcHRpb24nLAogICAgX19zZWxmOiB0aGlzLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzUsCiAgICAgIGNvbHVtbk51bWJlcjogOQogICAgfQogIH0sIG9wdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICB2YXIgaXNDaGVja2VkID0gYW5zd2VyWzBdID09PSBpdGVtOwogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGtleTogaW5kZXgsCiAgICAgIGNsYXNzTmFtZTogJ2l0ZW0nLmNvbmNhdCgiICIsIGlzQ2hlY2tlZCA/ICdjaGVja2VkJyA6ICcnKSwKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICByZXR1cm4gY2hvb3NlQW5zd2VyKGl0ZW0pOwogICAgICB9LAogICAgICBfX3NlbGY6IF90aGlzLAogICAgICBfX3NvdXJjZTogewogICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgbGluZU51bWJlcjogODIsCiAgICAgICAgY29sdW1uTnVtYmVyOiAyOAogICAgICB9CiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgICAgc3R5bGU6IHsKICAgICAgICBmb250U2l6ZTogaXRlbS5sZW5ndGggPT09IDEgPyAnMjJweCcgOiAnMTJweCcKICAgICAgfSwKICAgICAgX19zZWxmOiBfdGhpcywKICAgICAgX19zb3VyY2U6IHsKICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgIGxpbmVOdW1iZXI6IDg3LAogICAgICAgIGNvbHVtbk51bWJlcjogMjUKICAgICAgfQogICAgfSwgaXRlbSkpOwogIH0pKTsKfQoKX19zaWduYXR1cmVfXyhDaG9pY2VBbnN3ZXIsICJ1c2VTdGF0ZXtbb3B0aW9uLCBzZXRvcHRpb25dKHByb3BzLm9wdGlvbil9XG51c2VTdGF0ZXtbYW5zd2VyLCBzZXRBbnN3ZXJdKCgpID0+IHtcclxuICAgICAgICBsZXQgYW5zd2VyczphbnkgPSBbXTtcclxuICAgICAgICBwcm9wcy5hbnN3ZXIubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGFuc3dlckl0ZW07XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuWzBdICYmIGl0ZW0uY2hpbGRyZW5bMF0udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgYW5zd2VySXRlbSA9IGl0ZW0uY2hpbGRyZW5bMF0udGV4dDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYW5zd2Vycy5wdXNoKGFuc3dlckl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhbnN3ZXJzO1xyXG4gICAgfSl9XG51c2VFZmZlY3R7fVxudXNlRWZmZWN0e30iKTsKCmlmICh0eXBlb2YgQ2hvaWNlQW5zd2VyICE9PSAndW5kZWZpbmVkJyAmJiBDaG9pY2VBbnN3ZXIgJiYgQ2hvaWNlQW5zd2VyID09PSBPYmplY3QoQ2hvaWNlQW5zd2VyKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKENob2ljZUFuc3dlcikpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hvaWNlQW5zd2VyLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiQ2hvaWNlQW5zd2VyIiwKICAgICAgZmlsZW5hbWU6ICJzcmNcXFF1ZXN0aW9uRWRpdG9yXFxlZGl0b3JcXGNob2ljZUFuc3dlci50c3giCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQgOiB1bmRlZmluZWQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKENob2ljZUFuc3dlciwgIkNob2ljZUFuc3dlciIsICJGOlxcc2xhdGVcXGVhc3RlZHVDb21wb2VudHNcXHNyY1xcUXVlc3Rpb25FZGl0b3JcXGVkaXRvclxcY2hvaWNlQW5zd2VyLnRzeCIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGUgOiB1bmRlZmluZWQ7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["F:/slate/easteduCompoents/src/QuestionEditor/editor/choiceAnswer.tsx"],"names":["React","useState","useEffect","ChoiceAnswer","props","option","setoption","answers","answer","map","item","answerItem","children","text","push","setAnswer","chooseAnswer","newAnswer","JSON","parse","stringify","questionType","num","findIndex","splice","sort","a","b","contentAnswer","type","index","isChecked","fontSize","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport './richtext.less';\r\n\r\n\r\n\r\nexport default function ChoiceAnswer(props: any) {\r\n\r\n    const [option, setoption] = useState(props.option);\r\n\r\n    const [answer, setAnswer] = useState(() => {\r\n        let answers:any = [];\r\n        props.answer.map((item: any) => {\r\n            let answerItem;\r\n            if (item.children[0] && item.children[0].text) {\r\n                answerItem = item.children[0].text;\r\n            }\r\n\r\n            answers.push(answerItem);\r\n        });\r\n        return answers;\r\n    });\r\n\r\n    useEffect(() => {\r\n        let answers:any = [];\r\n        props.answer.map((item: any) => {\r\n            let answerItem;\r\n            if (item.children[0] && item.children[0].text) {\r\n                answerItem = item.children[0].text;\r\n            }\r\n\r\n            answers.push(answerItem);\r\n        });\r\n        setAnswer(answers);\r\n\r\n    }, [props.answer]);\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n        setoption(props.option);\r\n\r\n    }, [props.option]);\r\n\r\n    function chooseAnswer(item: any) {\r\n        let newAnswer = JSON.parse(JSON.stringify(answer));\r\n\r\n        if (props.questionType === 'SINGLE_CHOICE' || props.questionType === 'JUDGEMENT') {\r\n            newAnswer = [];\r\n        } \r\n\r\n        let num = answer.findIndex((answerItem: any) => {\r\n            return answerItem === item;\r\n        });\r\n        if (num > -1) {\r\n            newAnswer.splice(num, 1);\r\n        } else {\r\n            newAnswer.push(item);\r\n        }\r\n\r\n        // 自动排序\r\n        newAnswer.sort(function(a: any, b: any) { return a > b ? 1 : -1 });\r\n\r\n        let contentAnswer = newAnswer.map((item: any) => {\r\n            return {\r\n                children: [{ text: item }],\r\n                type: 'Left'\r\n            };\r\n        });\r\n\r\n        props.setAnswer(contentAnswer);\r\n    }\r\n\r\n    return (\r\n        <div className={'answerOption'}>\r\n            \r\n            {\r\n                option.map((item: any, index: number) => {\r\n\r\n                    let isChecked = answer[0] === item;\r\n\r\n                    return <div \r\n                        key={index}\r\n                        className={`${'item'} ${isChecked ? 'checked' : ''}`} \r\n                        onClick={() => chooseAnswer(item)}\r\n                    >\r\n                        <span style={{ fontSize: item.length === 1 ? '22px' : '12px' }}>{item}</span>\r\n                    </div>;\r\n                })\r\n            }\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\n"]}]}