{"remainingRequest":"F:\\slate\\easteduCompoents\\node_modules\\thread-loader\\dist\\cjs.js??ref--11-1!F:\\slate\\easteduCompoents\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js??ref--11-2!F:\\slate\\easteduCompoents\\node_modules\\source-map-loader\\index.js!F:\\slate\\easteduCompoents\\src\\QuestionEditor\\utils\\request.ts","dependencies":[{"path":"F:\\slate\\easteduCompoents\\src\\QuestionEditor\\utils\\request.ts","mtime":1611718656741},{"path":"F:\\slate\\easteduCompoents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611297672593},{"path":"F:\\slate\\easteduCompoents\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1611297676370},{"path":"F:\\slate\\easteduCompoents\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js","mtime":1611297672218},{"path":"F:\\slate\\easteduCompoents\\node_modules\\source-map-loader\\index.js","mtime":1599723087186}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjpcXHNsYXRlXFxlYXN0ZWR1Q29tcG9lbnRzXFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8qDQogKiBARGVzY3JpcHRpb246IEluIFVzZXIgU2V0dGluZ3MgRWRpdA0KICogQEF1dGhvcjogeW91ciBuYW1lDQogKiBARGF0ZTogMjAxOS0xMC0wOSAxMzoxMzo0NQ0KICogQExhc3RFZGl0VGltZTogMjAxOS0xMS0yMiAxMzowMzowNQ0KICogQExhc3RFZGl0b3JzOiBQbGVhc2Ugc2V0IExhc3RFZGl0b3JzDQogKi8KCi8qKg0KICogcmVxdWVzdCDnvZHnu5zor7fmsYLlt6XlhbcNCiAqIOabtOivpue7hueahCBhcGkg5paH5qGjCDogaHR0cHM6Ly9naXRodWIuY29tL3VtaWpzL3VtaS1yZXF1ZXN0DQogKi8KLy8gQHRzLW5vY2hlY2sKaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAndW1pLXJlcXVlc3QnOwppbXBvcnQgeyBUaXBzIH0gZnJvbSAnLi4vLi4vTWVzc2FnZVRpcHMnOwppbXBvcnQgcmVkaXJlY3QybG9naW4gZnJvbSAnLi9yZWRpcmVjdDJsb2dpbic7CnZhciBjb2RlTWVzc2FnZSA9IHsKICAyMDA6ICfmnI3liqHlmajmiJDlip/ov5Tlm57or7fmsYLnmoTmlbDmja7jgIInLAogIDIwMTogJ+aWsOW7uuaIluS/ruaUueaVsOaNruaIkOWKn+OAgicsCiAgMjAyOiAn5LiA5Liq6K+35rGC5bey57uP6L+b5YWl5ZCO5Y+w5o6S6Zif77yI5byC5q2l5Lu75Yqh77yJ44CCJywKICAyMDQ6ICfliKDpmaTmlbDmja7miJDlip/jgIInLAogIDQwMDogJ+WPkeWHuueahOivt+axguaciemUmeivr++8jOacjeWKoeWZqOayoeaciei/m+ihjOaWsOW7uuaIluS/ruaUueaVsOaNrueahOaTjeS9nOOAgicsCiAgNDAxOiAn55So5oi35rKh5pyJ5p2D6ZmQ77yI55So5oi35ZCN44CB5a+G56CB6ZSZ6K+v77yJ44CCJywKICA0MDM6ICfnlKjmiLflvpfliLDmjojmnYPvvIzkvYbmmK/orr/pl67mmK/ooqvnpoHmraLnmoTjgIInLAogIDQwNDogJ+WPkeWHuueahOivt+axgumSiOWvueeahOaYr+S4jeWtmOWcqOeahOiusOW9le+8jOacjeWKoeWZqOayoeaciei/m+ihjOaTjeS9nOOAgicsCiAgNDA2OiAn6K+35rGC55qE5qC85byP5LiN5Y+v5b6X44CCJywKICA0MTA6ICfor7fmsYLnmoTotYTmupDooqvmsLjkuYXliKDpmaTvvIzkuJTkuI3kvJrlho3lvpfliLDnmoTjgIInLAogIDQyMjogJ+W9k+WIm+W7uuS4gOS4quWvueixoeaXtu+8jOWPkeeUn+S4gOS4qumqjOivgemUmeivr+OAgicsCiAgNTAwOiAn5pyN5Yqh5Zmo5Y+R55Sf6ZSZ6K+v77yM6K+35qOA5p+l5pyN5Yqh5Zmo44CCJywKICA1MDI6ICfnvZHlhbPplJnor6/jgIInLAogIDUwMzogJ+acjeWKoeS4jeWPr+eUqO+8jOacjeWKoeWZqOaaguaXtui/h+i9veaIlue7tOaKpOOAgicsCiAgNTA0OiAn572R5YWz6LaF5pe244CCJwp9OwovKioNCiAqIOW8guW4uOWkhOeQhueoi+W6jw0KICovCgp2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycm9yKSB7CiAgdmFyIHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2UsCiAgICAgIGRhdGEgPSBlcnJvci5kYXRhOwoKICBpZiAoZXJyb3IudHlwZSA9PT0gJ1RpbWVvdXQnKSB7CiAgICBUaXBzLmNsb3NlKCk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgVGlwcy5vcGVuKHsKICAgICAgICBtZXNzYWdlOiAn572R57uc6LaF5pe277yM6K+356iN5ZCO6YeN6K+VJywKICAgICAgICB0eXBlOiAnZmFpbCcKICAgICAgfSk7CiAgICB9LCAzMDApOwogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZTogJ+e9kee7nOi2heaXtu+8jOivt+eojeWQjumHjeivlScKICAgIH07CiAgfSBlbHNlIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMpIHsKICAgIHZhciBlcnJvclRleHQgPSBjb2RlTWVzc2FnZVtyZXNwb25zZS5zdGF0dXNdIHx8IHJlc3BvbnNlLnN0YXR1c1RleHQgfHwgJyc7CgogICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIFRpcHMub3Blbih7CiAgICAgICAgICBtZXNzYWdlOiAn55m75b2V5bey5aSx5pWI77yM6K+36YeN5paw55m75b2V77yBJywKICAgICAgICAgIHR5cGU6ICdmYWlsJwogICAgICAgIH0pOyAvLyDluKbkuIrlvZPliY3ot6/lvoTkv6Hmga/ot7PovazliLDnmbvlvZXpobUKCiAgICAgICAgcmVkaXJlY3QybG9naW4oKTsKICAgICAgfSwgMzAwKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChkYXRhLmNvZGUgIT09IDEwODA0ICYmIGRhdGEuY29kZSAhPT0gMTA0MTUpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIFRpcHMub3Blbih7CiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogJ2ZhaWwnCiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgVGlwcy5jbG9zZSgpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIFRpcHMub3Blbih7CiAgICAgICAgbWVzc2FnZTogJ+e9kee7nOmUmeivr++8jOivt+eojeWQjumHjeivlScsCiAgICAgICAgdHlwZTogJ2ZhaWwnCiAgICAgIH0pOwogICAgfSwgMzAwKTsKICAgIHJldHVybiB1bmRlZmluZWQ7IC8vIFRpcHMub3Blbih7CiAgICAvLyAgIG1lc3NhZ2U6ICfnvZHnu5zplJnor6/vvIzor7fnqI3lkI7ph43or5UnLAogICAgLy8gICB0eXBlOiAnZmFpbCcsCiAgICAvLyB9KTsKICB9CgogIHJldHVybiBkYXRhOwp9OwovKioNCiAqIOmFjee9rnJlcXVlc3Tor7fmsYLml7bnmoTpu5jorqTlj4LmlbANCiAqLwoKCnZhciByZXF1ZXN0ID0gZXh0ZW5kKHsKICBlcnJvckhhbmRsZXI6IGVycm9ySGFuZGxlciwKICAvLyDpu5jorqTplJnor6/lpITnkIYKICB0aW1lb3V0OiAxMDAwMCwKICAvLyDorr7nva7otoXml7YKICBjcmVkZW50aWFsczogJ2luY2x1ZGUnIC8vIOm7mOiupOivt+axguaYr+WQpuW4puS4imNvb2tpZQoKfSk7IC8vIHJlcXVlc3Tmi6bmiKrlmagsIOaUueWPmHVybCDmiJYgb3B0aW9ucy4KCnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHsKICB2YXIgcHJveHlPYmogPSB7CiAgICB1cmw6IHVybAogIH07CiAgdmFyIGhhbmRsZXIgPSB7CiAgICBnZXQ6IGZ1bmN0aW9uIGdldCh0YXJnZXQsIGtleSwgcHJveHkpIHsKICAgICAgdmFyIHVybExpc3QgPSB0YXJnZXRba2V5XS5zcGxpdCgnfCcpOwogICAgICB2YXIgdXJsTmFtZSA9IHVybExpc3Quc2hpZnQoKTsKICAgICAgdmFyIHVybFN0cmluZyA9IHVybExpc3Quam9pbignLycpOyAvLyDlkIzmhI/mt7vliqDniYjmnKzlj7cKCiAgICAgIGlmICh1cmxTdHJpbmcuaW5kZXhPZigndmVyc2lvbicpID09PSAtMSkgewogICAgICAgIHVybFN0cmluZyA9IHVybFN0cmluZyArICc/dmVyc2lvbj0xLjAnOwogICAgICB9IC8vIOaYr2phdmHmjqXlj6PnmoTml7blgJkKCgogICAgICBpZiAodXJsTmFtZSA9PT0gJ2phdmFVcmwnKSB7CiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52LmphdmFVcmwgKyB1cmxTdHJpbmc7CiAgICAgIH0gZWxzZSBpZiAodXJsTmFtZSA9PT0gJ3VybCcpIHsKICAgICAgICAvLyAubmV05o6l5Y+jCiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52Lm5ldFVybCArIHVybFN0cmluZzsKICAgICAgfSBlbHNlIGlmICh1cmxOYW1lID09PSAncXVlc3Rpb25hbmFseXplJykgewogICAgICAgIC8vIOivlemimOino+aekOaOpeWPowogICAgICAgIHJldHVybiBwcm9jZXNzLmVudi5xdWVzdGlvbmFuYWx5emUgKyB1cmxTdHJpbmc7CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXRba2V5XTsKICAgIH0KICB9OwogIHZhciBuZXdVcmwgPSBuZXcgUHJveHkocHJveHlPYmosIGhhbmRsZXIpOyAvLyDkv67mlLnmjqXlj6PlnLDlnYAKCiAgdXJsID0gbmV3VXJsWyd1cmwnXTsKICB2YXIgY190b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyVG9rZW4nKTsKCiAgaWYgKGNfdG9rZW4pIHsKICAgIHZhciBoZWFkZXJzID0gewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgdXNlclRva2VuOiBjX3Rva2VuLAogICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcgKyBjX3Rva2VuIC8vICdBdXRob3JpemF0aW9uJzogJ2Jhc2ljIDEyMycKCiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgdXJsOiB1cmwsCiAgICAgIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucyksIHt9LCB7CiAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICB9KQogICAgfTsKICB9IGVsc2UgewogICAgdmFyIF9oZWFkZXJzID0gewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgdXNlclRva2VuOiBjX3Rva2VuCiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgdXJsOiB1cmwsCiAgICAgIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpCiAgICB9OwogIH0KfSk7IC8vIHJlc3BvbnNl5oum5oiq5ZmoLCDlpITnkIZyZXNwb25zZQoKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSwgb3B0aW9ucykgewogIHZhciB0b2tlbiA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd1c2VyVG9rZW4nKTsKCiAgaWYgKHRva2VuKSB7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclRva2VuJywgdG9rZW4pOwogIH0KCiAgcmV0dXJuIHJlc3BvbnNlOwp9KTsKdmFyIF9kZWZhdWx0ID0gcmVxdWVzdDsKZXhwb3J0IGRlZmF1bHQgX2RlZmF1bHQ7CgppZiAodHlwZW9mIHJlcXVlc3QgIT09ICd1bmRlZmluZWQnICYmIHJlcXVlc3QgJiYgcmVxdWVzdCA9PT0gT2JqZWN0KHJlcXVlc3QpICYmIE9iamVjdC5pc0V4dGVuc2libGUocmVxdWVzdCkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWVzdCwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogInJlcXVlc3QiLAogICAgICBmaWxlbmFtZTogInNyY1xcUXVlc3Rpb25FZGl0b3JcXHV0aWxzXFxyZXF1ZXN0LnRzIgogICAgfQogIH0pOwp9Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcihjb2RlTWVzc2FnZSwgImNvZGVNZXNzYWdlIiwgIkY6XFxzbGF0ZVxcZWFzdGVkdUNvbXBvZW50c1xcc3JjXFxRdWVzdGlvbkVkaXRvclxcdXRpbHNcXHJlcXVlc3QudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihlcnJvckhhbmRsZXIsICJlcnJvckhhbmRsZXIiLCAiRjpcXHNsYXRlXFxlYXN0ZWR1Q29tcG9lbnRzXFxzcmNcXFF1ZXN0aW9uRWRpdG9yXFx1dGlsc1xccmVxdWVzdC50cyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKHJlcXVlc3QsICJyZXF1ZXN0IiwgIkY6XFxzbGF0ZVxcZWFzdGVkdUNvbXBvZW50c1xcc3JjXFxRdWVzdGlvbkVkaXRvclxcdXRpbHNcXHJlcXVlc3QudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiRjpcXHNsYXRlXFxlYXN0ZWR1Q29tcG9lbnRzXFxzcmNcXFF1ZXN0aW9uRWRpdG9yXFx1dGlsc1xccmVxdWVzdC50cyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGUgOiB1bmRlZmluZWQ7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["F:/slate/easteduCompoents/src/QuestionEditor/utils/request.ts"],"names":["extend","Tips","redirect2login","codeMessage","errorHandler","error","response","data","type","close","setTimeout","open","message","status","errorText","statusText","code","undefined","request","timeout","credentials","interceptors","use","url","options","proxyObj","handler","get","target","key","proxy","urlList","split","urlName","shift","urlString","join","indexOf","process","env","javaUrl","netUrl","questionanalyze","newUrl","Proxy","c_token","localStorage","getItem","headers","Accept","userToken","Authorization","token","setItem"],"mappings":"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","sourcesContent":["/*\r\n * @Description: In User Settings Edit\r\n * @Author: your name\r\n * @Date: 2019-10-09 13:13:45\r\n * @LastEditTime: 2019-11-22 13:03:05\r\n * @LastEditors: Please set LastEditors\r\n */\r\n/**\r\n * request 网络请求工具\r\n * 更详细的 api 文档\b: https://github.com/umijs/umi-request\r\n */\r\n// @ts-nocheck\r\nimport { extend } from 'umi-request';\r\nimport { Tips } from '../../MessageTips';\r\nimport redirect2login from './redirect2login';\r\n\r\nconst codeMessage = {\r\n  200: '服务器成功返回请求的数据。',\r\n  201: '新建或修改数据成功。',\r\n  202: '一个请求已经进入后台排队（异步任务）。',\r\n  204: '删除数据成功。',\r\n  400: '发出的请求有错误，服务器没有进行新建或修改数据的操作。',\r\n  401: '用户没有权限（用户名、密码错误）。',\r\n  403: '用户得到授权，但是访问是被禁止的。',\r\n  404: '发出的请求针对的是不存在的记录，服务器没有进行操作。',\r\n  406: '请求的格式不可得。',\r\n  410: '请求的资源被永久删除，且不会再得到的。',\r\n  422: '当创建一个对象时，发生一个验证错误。',\r\n  500: '服务器发生错误，请检查服务器。',\r\n  502: '网关错误。',\r\n  503: '服务不可用，服务器暂时过载或维护。',\r\n  504: '网关超时。',\r\n};\r\n\r\n/**\r\n * 异常处理程序\r\n */\r\nconst errorHandler = (error: { response: any; data: any }): any => {\r\n  const { response, data } = error;\r\n  if (error.type === 'Timeout') {\r\n    Tips.close();\r\n\r\n    setTimeout(() => {\r\n      Tips.open({\r\n        message: '网络超时，请稍后重试',\r\n        type: 'fail',\r\n      });\r\n    }, 300);\r\n\r\n    return {\r\n      message: '网络超时，请稍后重试',\r\n    };\r\n  } else if (response && response.status) {\r\n    const errorText = codeMessage[response.status] || response.statusText || '';\r\n\r\n    if (response && response.status === 401) {\r\n      setTimeout(() => {\r\n        Tips.open({\r\n          message: '登录已失效，请重新登录！',\r\n          type: 'fail',\r\n        });\r\n        // 带上当前路径信息跳转到登录页\r\n        redirect2login();\r\n      }, 300);\r\n    } else {\r\n      if (data.code !== 10804 && data.code !== 10415) {\r\n        setTimeout(() => {\r\n          Tips.open({\r\n            message: data.message,\r\n            type: 'fail',\r\n          });\r\n        }, 10);\r\n      }\r\n    }\r\n  } else {\r\n    Tips.close();\r\n\r\n    setTimeout(() => {\r\n      Tips.open({\r\n        message: '网络错误，请稍后重试',\r\n        type: 'fail',\r\n      });\r\n    }, 300);\r\n\r\n    return undefined;\r\n\r\n    // Tips.open({\r\n    //   message: '网络错误，请稍后重试',\r\n    //   type: 'fail',\r\n    // });\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\n/**\r\n * 配置request请求时的默认参数\r\n */\r\nconst request = extend({\r\n  errorHandler, // 默认错误处理\r\n  timeout: 10000, // 设置超时\r\n  credentials: 'include', // 默认请求是否带上cookie\r\n});\r\n\r\n// request拦截器, 改变url 或 options.\r\nrequest.interceptors.request.use((url, options) => {\r\n  let proxyObj = {\r\n    url: url,\r\n  };\r\n\r\n  const handler = {\r\n    get(target: object, key: number, proxy: any) {\r\n      let urlList = target[key].split('|');\r\n\r\n      let urlName = urlList.shift();\r\n\r\n      let urlString = urlList.join('/');\r\n\r\n      // 同意添加版本号\r\n      if (urlString.indexOf('version') === -1) {\r\n        urlString = urlString + '?version=1.0';\r\n      }\r\n\r\n      // 是java接口的时候\r\n      if (urlName === 'javaUrl') {\r\n        return process.env.javaUrl + urlString;\r\n      } else if (urlName === 'url') {\r\n        // .net接口\r\n\r\n        return process.env.netUrl + urlString;\r\n      } else if (urlName === 'questionanalyze') {\r\n        // 试题解析接口\r\n\r\n        return process.env.questionanalyze + urlString;\r\n      }\r\n\r\n      return target[key];\r\n    },\r\n  };\r\n\r\n  let newUrl = new Proxy(proxyObj, handler);\r\n\r\n  // 修改接口地址\r\n  url = newUrl['url'];\r\n\r\n  let c_token = localStorage.getItem('userToken');\r\n  if (c_token) {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      Accept: 'application/json',\r\n      userToken: c_token,\r\n      Authorization: 'Bearer ' + c_token,\r\n      // 'Authorization': 'basic 123'\r\n    };\r\n    return {\r\n      url: url,\r\n      options: { ...options, headers: headers },\r\n    };\r\n  } else {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      Accept: 'application/json',\r\n      userToken: c_token,\r\n    };\r\n    return {\r\n      url: url,\r\n      options: { ...options },\r\n    };\r\n  }\r\n});\r\n\r\n// response拦截器, 处理response\r\nrequest.interceptors.response.use((response, options) => {\r\n  let token = response.headers.get('userToken');\r\n  if (token) {\r\n    localStorage.setItem('userToken', token);\r\n  }\r\n  return response;\r\n});\r\n\r\nexport default request;\r\n"]}]}