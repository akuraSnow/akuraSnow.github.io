{"remainingRequest":"F:\\slate\\easteduCompoents\\node_modules\\thread-loader\\dist\\cjs.js??ref--11-1!F:\\slate\\easteduCompoents\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js??ref--11-2!F:\\slate\\easteduCompoents\\node_modules\\source-map-loader\\index.js!F:\\slate\\easteduCompoents\\src\\QuestionEditor\\editor\\iconCompents\\FormulaEditor.tsx","dependencies":[{"path":"F:\\slate\\easteduCompoents\\src\\QuestionEditor\\editor\\iconCompents\\FormulaEditor.tsx","mtime":1611718528163},{"path":"F:\\slate\\easteduCompoents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611297672593},{"path":"F:\\slate\\easteduCompoents\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1611297676370},{"path":"F:\\slate\\easteduCompoents\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js","mtime":1611297672218},{"path":"F:\\slate\\easteduCompoents\\node_modules\\source-map-loader\\index.js","mtime":1599723087186}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjpcXHNsYXRlXFxlYXN0ZWR1Q29tcG9lbnRzXFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiRjpcXHNsYXRlXFxlYXN0ZWR1Q29tcG9lbnRzXFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwoKdmFyIF90aGlzID0gdGhpcywKICAgIF9qc3hGaWxlTmFtZSA9ICJGOlxcc2xhdGVcXGVhc3RlZHVDb21wb2VudHNcXHNyY1xcUXVlc3Rpb25FZGl0b3JcXGVkaXRvclxcaWNvbkNvbXBlbnRzXFxGb3JtdWxhRWRpdG9yLnRzeCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZSA6IHVuZGVmaW5lZDsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWxbImRlZmF1bHQiXS5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKLy8gQHRzLW5vY2hlY2sKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vY29tcG9uZW50cyc7CmltcG9ydCB7IGZvcm11bGFFZGl0b3IgfSBmcm9tICcuLi90b29sYmFySWNvbic7CmltcG9ydCBEcmFnTW9kZWwgZnJvbSAnLi8uLi8uLi8uLi9EcmFnTW9kZWwvaW5kZXgnOwppbXBvcnQgeyBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnOwppbXBvcnQgJy4vaWNvbkNvbXBlbnRzLmxlc3MnOwppbXBvcnQgeyBUaXBzIH0gZnJvbSAiLi4vLi4vLi4vTWVzc2FnZVRpcHMvaW5kZXgiOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwp2YXIgX3Zpc2libGUgPSB0cnVlOwoKdmFyIEZvcm11bGFFZGl0b3IgPSBmdW5jdGlvbiBGb3JtdWxhRWRpdG9yKHByb3BzKSB7CiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIHZpc2libGUgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRWaXNpYmxlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShwcm9wcy5tb2RhbFBvc2l0aW9uKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBtb2RhbFBvc2l0aW9uID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0TW9kYWxQb3NpdGlvbiA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2VsZWN0aW9uID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0U2VsZWN0aW9uID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIGVkaXRvclJlZiA9IHVzZVJlZigpOwoKICB2YXIgX3VzZVN0YXRlNyA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksCiAgICAgIGVkaXRvciA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldEVkaXRvciA9IF91c2VTdGF0ZThbMV07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQubWF0aEVkaXRvcikgewogICAgICAgIHZhciBfZWRpdG9yID0gJChlZGl0b3JSZWYuY3VycmVudCkubWF0aEVkaXRvcih7CiAgICAgICAgICB3aWR0aDogMTAwMCwKICAgICAgICAgIGhlaWdodDogNDUwLAogICAgICAgICAgZGVmRm9ybXVsYTogJzxtYXRoPjwvbWF0aD4nCiAgICAgICAgfSk7CgogICAgICAgIHNldEVkaXRvcihfZWRpdG9yKTsKICAgICAgfQogICAgfSwgMCk7CiAgICByZXR1cm4gZnVuY3Rpb24gY2xlYW51cCgpIHsKICAgICAgdmFyIGJvZHlEaXZzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdib2R5ID4gZGl2JykpOwogICAgICB2YXIgYm9keVNwYW5zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdib2R5ID4gc3BhbicpKTsKICAgICAgYm9keURpdnMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlICYmIGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSAmJiAoZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluZGV4T2YoJ3VpLScpICE9PSAtMSB8fCBlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykuaW5kZXhPZignc3AtJykgIT09IC0xKSkgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgYm9keVNwYW5zLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoJ2lkJykgJiYgZWwuZ2V0QXR0cmlidXRlKCdpZCcpLmluZGV4T2YoJ3NwYW5OJykgIT09IC0xKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9LCBbdmlzaWJsZV0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBzZXRNb2RhbFBvc2l0aW9uKHByb3BzLm1vZGFsUG9zaXRpb24pOwogIH0sIFtwcm9wcy5tb2RhbFBvc2l0aW9uXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChwcm9wcy5lZGl0b3Iuc2VsZWN0aW9uKSB7CiAgICAgIHNldFNlbGVjdGlvbihwcm9wcy5lZGl0b3Iuc2VsZWN0aW9uKTsKICAgIH0KICB9LCBbcHJvcHMuZWRpdG9yLnNlbGVjdGlvbl0pOwoKICBmdW5jdGlvbiBfb25PaygpIHsKICAgIHByb3BzLmVkaXRvci5zZWxlY3Rpb24gPSBzZWxlY3Rpb247CiAgICBUcmFuc2Zvcm1zLnNldFNlbGVjdGlvbihwcm9wcy5lZGl0b3IsIHNlbGVjdGlvbik7CiAgICB2YXIgZm9ybXVsYVJlc3VsdCA9IGVkaXRvciAmJiBlZGl0b3IubWF0aEVkaXRvciA/IGVkaXRvci5tYXRoRWRpdG9yKCdnZXRNYXRoTUwnLCAnVU5JQ09ERScsICd0cnVlJykgOiBudWxsOwogICAgdmFyIGZvcm11bGFET00gPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGZvcm11bGFSZXN1bHQsICd0ZXh0L2h0bWwnKTsKICAgIHZhciBtYXRoRWwgPSBmb3JtdWxhRE9NLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtYXRoJylbMF07CgogICAgaWYgKCFtYXRoRWwuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgIFRpcHMub3Blbih7CiAgICAgICAgbWVzc2FnZTogJ+WGheWuueS4jeiDveS4uuepuicsCiAgICAgICAgdHlwZTogJ2ZhaWwnCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2Rlcyhwcm9wcy5lZGl0b3IsIHsKICAgICAgICB0eXBlOiAnbWVudGlvbicsCiAgICAgICAgbWVkaWFUeXBlOiAnRk9STVVMQScsCiAgICAgICAgY2hhcmFjdGVyOiBmb3JtdWxhUmVzdWx0LAogICAgICAgIHRhZzogU3RyaW5nKE1hdGgucmFuZG9tKCkpLnJlcGxhY2UoJ1wuJywgJycpLAogICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgdGV4dDogJyAnLAogICAgICAgICAgbWFyazogW10KICAgICAgICB9XQogICAgICB9KTsKICAgICAgc2V0VmlzaWJsZShmYWxzZSk7CiAgICAgIHByb3BzLmNoYW5nZUZvY3VzZShmYWxzZSk7CiAgICAgIHByb3BzLmlzRm9jdXNlICYmIHByb3BzLnBvc3Rpb24gJiYgcHJvcHMucG9zdGlvbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1vZGFsUG9zaXRpb24pLCB7fSwgewogICAgICAgIHZpc2libGU6IGZhbHNlCiAgICAgIH0pKTsKICAgIH0KICB9CgogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgX19zZWxmOiBfdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEwNCwKICAgICAgY29sdW1uTnVtYmVyOiA1CiAgICB9CiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7CiAgICBjbGFzc05hbWU6IHByb3BzLmlzRm9jdXNlID8gJ3RhYmJhckljb24nIDogJycsCiAgICBhY3RpdmU6IGZhbHNlLAogICAgc3R5bGU6IHsKICAgICAgd2lkdGg6ICcyNHB4JywKICAgICAgaGVpZ2h0OiAnMjRweCcsCiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsCiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLAogICAgICB0b3A6ICcwcHgnCiAgICB9LAogICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAocHJvcHMuaXNGb2N1c2UpIHsKICAgICAgICBfdmlzaWJsZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHByb3BzLmlzRm9jdXNlICYmIHNldFZpc2libGUodHJ1ZSk7CiAgICAgIHByb3BzLmlzRm9jdXNlICYmIHByb3BzLnNldFZpc2libGUgJiYgcHJvcHMuc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgcHJvcHMuaXNGb2N1c2UgJiYgcHJvcHMucG9zdGlvbiAmJiBwcm9wcy5wb3N0aW9uKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbW9kYWxQb3NpdGlvbiksIHt9LCB7CiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9KSk7CiAgICAgIHByb3BzLmNoYW5nZUZvY3VzZSh0cnVlKTsKICAgIH0sCiAgICBfX3NlbGY6IF90aGlzLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTA1LAogICAgICBjb2x1bW5OdW1iZXI6IDcKICAgIH0KICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgIHN0eWxlOiB7CiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLAogICAgICB3aWR0aDogJzI0cHgnLAogICAgICBoZWlnaHQ6ICcyNHB4JywKICAgICAgbGluZUhlaWdodDogJzI0cHgnCiAgICB9LAogICAgX19zZWxmOiBfdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEyMywKICAgICAgY29sdW1uTnVtYmVyOiA5CiAgICB9CiAgfSwgZm9ybXVsYUVkaXRvciwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICBjbGFzc05hbWU6ICJ0aXRsZSIsCiAgICBzdHlsZTogewogICAgICB3aWR0aDogIjgwcHgiLAogICAgICBoZWlnaHQ6ICcyMHB4JywKICAgICAgbGluZUhlaWdodDogJzIwcHgnCiAgICB9LAogICAgX19zZWxmOiBfdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEyNSwKICAgICAgY29sdW1uTnVtYmVyOiAxMQogICAgfQogIH0sIHByb3BzLnRpdGxlKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgX19zZWxmOiBfdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEyOCwKICAgICAgY29sdW1uTnVtYmVyOiA3CiAgICB9CiAgfSwKICAvKiBlc2xpbnQtZGlzYWJsZSAqLwogIHZpc2libGUgJiYgcHJvcHMuaXNGb2N1c2UgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEcmFnTW9kZWwsIHsKICAgIHN0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAwMHB4JywKICAgICAgaGVpZ2h0OiAnNTYwcHgnLAogICAgICBsZWZ0OiBtb2RhbFBvc2l0aW9uLmxlZnQsCiAgICAgIHRvcDogbW9kYWxQb3NpdGlvbi50b3AKICAgIH0sCiAgICB0aXRsZTogIlx1NjNEMlx1NTE2NVx1NTE2Q1x1NUYwRiIsCiAgICBvbkNhbmNsZTogZnVuY3Rpb24gb25DYW5jbGUoKSB7CiAgICAgIHNldFZpc2libGUoZmFsc2UpOwogICAgICBfdmlzaWJsZSA9IGZhbHNlOwogICAgICBwcm9wcy5pc0ZvY3VzZSAmJiBwcm9wcy5wb3N0aW9uICYmIHByb3BzLnBvc3Rpb24oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtb2RhbFBvc2l0aW9uKSwge30sIHsKICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICBpc0Nsb3NlTWVkb2FsOiB0cnVlCiAgICAgIH0pKTsKICAgIH0sCiAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkgewogICAgICByZXR1cm4gX29uT2soKTsKICAgIH0sCiAgICBpc01vZGFsczogdHJ1ZSwKICAgIF9fc2VsZjogX3RoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMzEsCiAgICAgIGNvbHVtbk51bWJlcjogMzkKICAgIH0KICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAicGFyc2UtYm9keSBpZGVudGlmeVNwaW4iLAogICAgX19zZWxmOiBfdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE1MSwKICAgICAgY29sdW1uTnVtYmVyOiAxMwogICAgfQogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICByZWY6IGVkaXRvclJlZiwKICAgIF9fc2VsZjogX3RoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNTIsCiAgICAgIGNvbHVtbk51bWJlcjogMTUKICAgIH0KICB9KSkpIDogJycpKTsKfTsKCl9fc2lnbmF0dXJlX18oRm9ybXVsYUVkaXRvciwgInVzZVN0YXRle1t2aXNpYmxlLCBzZXRWaXNpYmxlXShmYWxzZSl9XG51c2VTdGF0ZXtbbW9kYWxQb3NpdGlvbiwgc2V0TW9kYWxQb3NpdGlvbl0ocHJvcHMubW9kYWxQb3NpdGlvbil9XG51c2VTdGF0ZXtbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dKG51bGwpfVxudXNlUmVme2VkaXRvclJlZn1cbnVzZVN0YXRle1tlZGl0b3IsIHNldEVkaXRvcl0obnVsbCl9XG51c2VFZmZlY3R7fVxudXNlRWZmZWN0e31cbnVzZUVmZmVjdHt9Iik7Cgp2YXIgX2RlZmF1bHQgPSBGb3JtdWxhRWRpdG9yOwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmlmICh0eXBlb2YgRm9ybXVsYUVkaXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgRm9ybXVsYUVkaXRvciAmJiBGb3JtdWxhRWRpdG9yID09PSBPYmplY3QoRm9ybXVsYUVkaXRvcikgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShGb3JtdWxhRWRpdG9yKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtdWxhRWRpdG9yLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiRm9ybXVsYUVkaXRvciIsCiAgICAgIGZpbGVuYW1lOiAic3JjXFxRdWVzdGlvbkVkaXRvclxcZWRpdG9yXFxpY29uQ29tcGVudHNcXEZvcm11bGFFZGl0b3IudHN4IgogICAgfQogIH0pOwp9Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfdmlzaWJsZSwgIl92aXNpYmxlIiwgIkY6XFxzbGF0ZVxcZWFzdGVkdUNvbXBvZW50c1xcc3JjXFxRdWVzdGlvbkVkaXRvclxcZWRpdG9yXFxpY29uQ29tcGVudHNcXEZvcm11bGFFZGl0b3IudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoRm9ybXVsYUVkaXRvciwgIkZvcm11bGFFZGl0b3IiLCAiRjpcXHNsYXRlXFxlYXN0ZWR1Q29tcG9lbnRzXFxzcmNcXFF1ZXN0aW9uRWRpdG9yXFxlZGl0b3JcXGljb25Db21wZW50c1xcRm9ybXVsYUVkaXRvci50c3giKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiRjpcXHNsYXRlXFxlYXN0ZWR1Q29tcG9lbnRzXFxzcmNcXFF1ZXN0aW9uRWRpdG9yXFxlZGl0b3JcXGljb25Db21wZW50c1xcRm9ybXVsYUVkaXRvci50c3giKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmxlYXZlTW9kdWxlIDogdW5kZWZpbmVkOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["F:/slate/easteduCompoents/src/QuestionEditor/editor/iconCompents/FormulaEditor.tsx"],"names":["React","useState","useEffect","useRef","Button","formulaEditor","DragModel","Transforms","Tips","$","_visible","FormulaEditor","props","visible","setVisible","modalPosition","setModalPosition","selection","setSelection","editorRef","editor","setEditor","setTimeout","mathEditor","current","width","height","defFormula","cleanup","bodyDivs","Array","from","document","querySelectorAll","bodySpans","forEach","el","getAttribute","indexOf","body","removeChild","onOk","formulaResult","formulaDOM","DOMParser","parseFromString","mathEl","getElementsByTagName","children","length","open","message","type","insertNodes","mediaType","character","tag","String","Math","random","replace","text","mark","changeFocuse","isFocuse","postion","textAlign","position","top","event","preventDefault","display","lineHeight","title","left","isCloseMedoal"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport React, {useState, useEffect, useRef, useCallback} from 'react';\r\nimport {Spin, Tabs} from 'antd';\r\nimport _ from 'lodash';\r\nimport {Button} from '../components';\r\nimport {formulaEditor} from '../toolbarIcon';\r\nimport DragModel from './../../../DragModel/index';\r\nimport {symbolList} from '../client';\r\nimport {Editor, Node, Transforms, createEditor} from 'slate';\r\nimport './iconCompents.less';\r\nimport {Tips} from \"../../../MessageTips/index\";\r\nimport $ from 'jquery';\r\nlet _visible = true;\r\n\r\n\r\nconst FormulaEditor = (props) => {\r\n\r\n  const [visible, setVisible] = useState(false);\r\n  const [modalPosition, setModalPosition] = useState(props.modalPosition);\r\n  const [selection, setSelection] = useState(null);\r\n  const editorRef = useRef();\r\n  const [editor, setEditor] = useState(null);\r\n\r\n  useEffect(() => {\r\n\r\n    \r\n    setTimeout(() => {\r\n\r\n      if ($.mathEditor) {\r\n        const editor = $(editorRef.current).mathEditor({\r\n          width: 1000,\r\n          height: 450,\r\n          defFormula: '<math></math>'\r\n        });\r\n        setEditor(editor);\r\n      }\r\n\r\n    }, 0);\r\n    return function cleanup() {\r\n      const bodyDivs = Array.from(document.querySelectorAll('body > div'));\r\n      const bodySpans = Array.from(document.querySelectorAll('body > span'));\r\n      bodyDivs.forEach((el) => {\r\n        if (\r\n          el.getAttribute && el.getAttribute('class') && (\r\n            el.getAttribute('class').indexOf('ui-') !== -1 ||\r\n            el.getAttribute('class').indexOf('sp-') !== -1\r\n          )\r\n        ) {\r\n          document.body.removeChild(el);\r\n        }\r\n      });\r\n      bodySpans.forEach((el) => {\r\n        if (\r\n          el.getAttribute &&\r\n          el.getAttribute('id') &&\r\n          el.getAttribute('id').indexOf('spanN') !== -1\r\n        ) {\r\n          document.body.removeChild(el);\r\n        }\r\n      });\r\n    };\r\n  }, [visible]);\r\n\r\n  useEffect(() => {\r\n    setModalPosition(props.modalPosition);\r\n  }, [props.modalPosition]);\r\n\r\n  useEffect(() => {\r\n    if (props.editor.selection) {\r\n      setSelection(props.editor.selection);\r\n    }\r\n  }, [props.editor.selection]);\r\n\r\n  function onOk() {\r\n    props.editor.selection = selection;\r\n    Transforms.setSelection(props.editor, selection);\r\n    let formulaResult = editor && editor.mathEditor ? editor.mathEditor('getMathML', 'UNICODE', 'true') : null;\r\n    const formulaDOM = new DOMParser().parseFromString(formulaResult, 'text/html');\r\n    const mathEl = formulaDOM.getElementsByTagName('math')[0];\r\n    if (!mathEl.children.length) {\r\n      Tips.open({\r\n        message: '内容不能为空',\r\n        type: 'fail'\r\n      });\r\n    } else {\r\n      Transforms.insertNodes(props.editor, {\r\n        type: 'mention',\r\n        mediaType: 'FORMULA',\r\n        character: formulaResult,\r\n        tag: String(Math.random()).replace('\\.', ''),\r\n        children: [{text: ' ', mark: []}],\r\n      });\r\n      setVisible(false);\r\n      props.changeFocuse(false);\r\n      props.isFocuse && props.postion && props.postion({\r\n        ...modalPosition,\r\n        visible: false\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        className={props.isFocuse ? 'tabbarIcon' : ''}\r\n        active={false}\r\n        style={{width: '24px', height: '24px', textAlign: 'center', position: 'relative', top: '0px'}}\r\n        onMouseDown={(event) => {\r\n          event.preventDefault();\r\n          if (props.isFocuse) {\r\n            _visible = true\r\n          }\r\n          props.isFocuse && setVisible(true);\r\n          props.isFocuse && props.setVisible && props.setVisible(true);\r\n          props.isFocuse && props.postion && props.postion({\r\n            ...modalPosition,\r\n            visible: true\r\n          });\r\n          props.changeFocuse(true);\r\n        }}\r\n      >\r\n        <span style={{display: 'inline-block', width: '24px', height: '24px', lineHeight: '24px'}}>\r\n          {formulaEditor}\r\n          <span className=\"title\" style={{width: `80px`, height: '20px', lineHeight: '20px'}}>{props.title}</span>\r\n        </span>\r\n      </Button>\r\n      <div>\r\n        {\r\n          /* eslint-disable */\r\n          visible && props.isFocuse ? <DragModel\r\n            style={{\r\n              width: '1000px',\r\n              height: '560px',\r\n              left: modalPosition.left,\r\n              top: modalPosition.top\r\n            }}\r\n            title=\"插入公式\"\r\n            onCancle={() => {\r\n              setVisible(false);\r\n              _visible = false;\r\n              props.isFocuse && props.postion && props.postion({\r\n                ...modalPosition,\r\n                visible: false,\r\n                isCloseMedoal: true\r\n              });\r\n            }}\r\n            onOk={() => onOk()}\r\n            isModals={true}\r\n          >\r\n            <div className=\"parse-body identifySpin\">\r\n              <div ref={editorRef}/>\r\n            </div>\r\n\r\n          </DragModel> : ''\r\n        }\r\n\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\n\r\nexport default FormulaEditor;\r\n"]}]}