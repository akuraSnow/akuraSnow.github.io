{"remainingRequest":"F:\\slate\\easteduCompoents\\node_modules\\thread-loader\\dist\\cjs.js??ref--11-1!F:\\slate\\easteduCompoents\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js??ref--11-2!F:\\slate\\easteduCompoents\\node_modules\\source-map-loader\\index.js!F:\\slate\\easteduCompoents\\src\\QuestionEditor\\utils\\redirect2login.ts","dependencies":[{"path":"F:\\slate\\easteduCompoents\\src\\QuestionEditor\\utils\\redirect2login.ts","mtime":1611305104334},{"path":"F:\\slate\\easteduCompoents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611297672593},{"path":"F:\\slate\\easteduCompoents\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1611297676370},{"path":"F:\\slate\\easteduCompoents\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js","mtime":1611297672218},{"path":"F:\\slate\\easteduCompoents\\node_modules\\source-map-loader\\index.js","mtime":1599723087186}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCmltcG9ydCB7IGVuY29kZUpzb25Ub0Jhc2U2NFVSTCB9IGZyb20gJy4vZW5jb2RlQW5kRGVjb2RlVXJsJzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVkaXJlY3QybG9naW4oKSB7CiAgLy8gZ2V0RHZhQXBwKCkuX3N0b3JlLmRpc3BhdGNoKHsKICAvLyAgIHR5cGU6ICdsb2dpbi9sb2dvdXQnLAogIC8vICAgcGF5bG9hZDogewogIC8vICAgICByZWRpcmVjdDogcmVkaXJlY3RVcmwsCiAgLy8gICB9LAogIC8vIH0pOwogIC8vIOWmguaenOW9k+WJjeaXtueZu+W9lemhte+8jOWImeS4jei3s+i9rAogIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy91c2VyL2xvZ2luJykgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIHJlZGlyZWN0VXJsID0gZW5jb2RlSnNvblRvQmFzZTY0VVJMKEpTT04uc3RyaW5naWZ5KGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoKSk7CgogIHdpbmRvdy5nX2FwcC5fc3RvcmUuZGlzcGF0Y2goewogICAgdHlwZTogJ2xvZ2luL2xvZ291dCcsCiAgICBwYXlsb2FkOiB7CiAgICAgIHJlZGlyZWN0OiByZWRpcmVjdFVybAogICAgfQogIH0pOwp9CgppZiAodHlwZW9mIHJlZGlyZWN0MmxvZ2luICE9PSAndW5kZWZpbmVkJyAmJiByZWRpcmVjdDJsb2dpbiAmJiByZWRpcmVjdDJsb2dpbiA9PT0gT2JqZWN0KHJlZGlyZWN0MmxvZ2luKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKHJlZGlyZWN0MmxvZ2luKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWRpcmVjdDJsb2dpbiwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogInJlZGlyZWN0MmxvZ2luIiwKICAgICAgZmlsZW5hbWU6ICJzcmNcXFF1ZXN0aW9uRWRpdG9yXFx1dGlsc1xccmVkaXJlY3QybG9naW4udHMiCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQgOiB1bmRlZmluZWQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKHJlZGlyZWN0MmxvZ2luLCAicmVkaXJlY3QybG9naW4iLCAiRjpcXHNsYXRlXFxlYXN0ZWR1Q29tcG9lbnRzXFxzcmNcXFF1ZXN0aW9uRWRpdG9yXFx1dGlsc1xccmVkaXJlY3QybG9naW4udHMiKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmxlYXZlTW9kdWxlIDogdW5kZWZpbmVkOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["F:/slate/easteduCompoents/src/QuestionEditor/utils/redirect2login.ts"],"names":["encodeJsonToBase64URL","redirect2login","location","pathname","redirectUrl","JSON","stringify","search","window","g_app","_store","dispatch","type","payload","redirect"],"mappings":";;;;;;;;;AAAA,SAASA,qBAAT,QAAsC,sBAAtC;AAEA,eAAe,SAASC,cAAT,GAA0B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAIC,QAAQ,CAACC,QAAT,KAAsB,aAA1B,EAAyC;AACvC;AACD;;AACD,MAAMC,WAAW,GAAGJ,qBAAqB,CAACK,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACC,QAAT,GAAoBD,QAAQ,CAACK,MAA5C,CAAD,CAAzC;;AAECC,EAAAA,MAAD,CAAgBC,KAAhB,CAAsBC,MAAtB,CAA6BC,QAA7B,CAAsC;AACpCC,IAAAA,IAAI,EAAE,cAD8B;AAEpCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,QAAQ,EAAEV;AADH;AAF2B,GAAtC;AAMD;;;;;;;;;;;;;;;;;;;;;;0BAnBuBH,c","sourcesContent":["import { encodeJsonToBase64URL } from './encodeAndDecodeUrl';\r\n\r\nexport default function redirect2login() {\r\n  // getDvaApp()._store.dispatch({\r\n  //   type: 'login/logout',\r\n  //   payload: {\r\n  //     redirect: redirectUrl,\r\n  //   },\r\n  // });\r\n  // 如果当前时登录页，则不跳转\r\n  if (location.pathname === '/user/login') {\r\n    return;\r\n  }\r\n  const redirectUrl = encodeJsonToBase64URL(JSON.stringify(location.pathname + location.search));\r\n\r\n  (window as any).g_app._store.dispatch({\r\n    type: 'login/logout',\r\n    payload: {\r\n      redirect: redirectUrl,\r\n    },\r\n  });\r\n}\r\n"]}]}